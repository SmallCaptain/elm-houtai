(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2c78710"],{"05eb":function(t,e,i){},1280:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{attrs:{id:"GoodsCategory"}},[i("el-header",[i("Header",{attrs:{fucName:t.funcNameCopy}}),i("div",{staticClass:"types"},[i("FilterTypes",{attrs:{funcName:t.funcNameCopy}})],1)],1),i("el-main",[i("div",{staticClass:"merchants"},t._l(t.merchantList,(function(t,e){return i("nearby-shops",{key:e,attrs:{item:t}})})),1)])],1)},s=[],a=i("1da1"),c=(i("96cf"),i("d3b7"),i("159b"),i("4de4"),i("0418")),r=i("adf5"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"FilterTypes"}},[i("div",{staticClass:"content"},[i("ul",{staticClass:"list"},t._l(t.filterList,(function(e,n){return i("li",{key:n},[i("div",{staticClass:"select",on:{click:function(e){return t.chageFilterIndex(n)}}},[i("span",{class:{spanSelected:n===t.filterIndex}},[t._v(t._s(e.name)+" "),i("i",{staticClass:"el-icon-caret-bottom",class:{iSelected:n===t.filterIndex,unSelected:-1===t.filterIndex}})])]),0===n?i("div",{staticClass:"selectMenu"},[i("transition",{attrs:{name:"fadeIn"}},[i("Classify",{directives:[{name:"show",rawName:"v-show",value:0===t.filterIndex,expression:"filterIndex === 0"}],attrs:{typeItems:e},on:{chageFilterIndex:t.chageFilterIndex}})],1)],1):t._e(),1===n?i("div",{staticClass:"selectMenu"},[i("transition",{attrs:{name:"fadeIn"}},[i("Sortord",{directives:[{name:"show",rawName:"v-show",value:1===t.filterIndex,expression:"filterIndex === 1"}],on:{chageFilterIndex:t.chageFilterIndex}})],1)],1):t._e(),2===n?i("div",{staticClass:"selectMenu"},[i("transition",{attrs:{name:"fadeIn"}},[i("Filtrate",{directives:[{name:"show",rawName:"v-show",value:2===t.filterIndex,expression:"filterIndex === 2"}],on:{chageFilterIndex:t.chageFilterIndex}})],1)],1):t._e()])})),0)]),i("transition",{attrs:{name:"fadeInShadow"}},[-1!==t.filterIndex?i("div",{staticClass:"shadow"}):t._e()])],1)},l=[],d=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Classify"}},[i("div",{staticClass:"Content"},[i("div",{staticClass:"tag"},[i("div",{staticClass:"total",on:{click:t.searchAll}},[i("div",{staticClass:"totalContent"},[i("div",{staticClass:"name"},[i("span",[t._v(t._s(t.typeItems.name))])]),i("div",{staticClass:"amounts"},[i("span",[t._v(t._s(t.allMounts))])])])]),i("div",{staticClass:"tagList"},t._l(t.typeItems.list,(function(e,n){return i("div",{key:n,staticClass:"item",class:{tagSelected:n===t.currentIndex},on:{click:function(e){return t.chageCurrentIndex(n)}}},[i("div",{staticClass:"icon"},[i("iconSvg",{attrs:{iconStyle:"iconStyle",iconClass:e.icon}})],1),i("div",{staticClass:"name"},[i("span",[t._v(t._s(e.tag))])]),i("div",{staticClass:"amount"},[i("span",[t._v(t._s(t.countAmount(e)))])]),t._m(0,!0)])})),0)]),i("div",{staticClass:"list"},t._l(t.typeItems.list[t.currentIndex].items,(function(e,n){return i("div",{key:n,staticClass:"listItem",on:{click:function(i){return t.sendType(e.type,e.name)}}},[i("div",{staticClass:"name"},[i("span",[t._v(t._s(e.name))])]),i("div",{staticClass:"amount"},[i("span",[t._v(t._s(e.amount))])])])})),0)])])}),u=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"arrows"},[i("i",{staticClass:"el-icon-arrow-right"})])}],m=i("d16d"),h={components:{iconSvg:m["a"]},name:"Classify",inject:["sendTypeProvide","searchAllProvide"],props:{typeItems:{type:Object,default:function(){return{name:"默认",list:[{tag:"快餐便当",icon:"hanbao",items:[{name:"简餐",amount:100,type:"fastfood"},{name:"汉堡",amount:200,type:"hamburger"}]},{tag:"小吃夜宵",icon:"xiaochi",items:[{name:"烧烤",amount:150,type:"barbecue"},{name:"地方小吃",amount:120,type:"snack"}]}]}}}},data:function(){return{currentIndex:0}},computed:{allMounts:function(){var t=0;return this.typeItems.list.forEach((function(e){e.items.forEach((function(e){t+=e.amount}))})),t}},methods:{countAmount:function(t){var e=0;return t.items.forEach((function(t){e+=t.amount})),e},chageCurrentIndex:function(t){this.currentIndex=t},sendType:function(t,e){this.sendTypeProvide(t,"Classify",e),this.$emit("chageFilterIndex",0)},searchAll:function(){this.searchAllProvide(),this.$emit("chageFilterIndex",0)}},created:function(){}},f=h,p=(i("7261"),i("2877")),v=Object(p["a"])(f,d,u,!1,null,"12d94780",null),y=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Sortord"}},[i("div",{staticClass:"SortordContent"},[i("ul",{staticClass:"list"},t._l(t.options,(function(e,n){return i("li",{key:n,staticClass:"item",on:{click:function(i){t.chageCurrentIndex(n),t.sendType(e.keyword)}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"icon"},[i("icon-svg",{attrs:{iconStyle:"icon",iconClass:e.icon}})],1),i("div",{staticClass:"name"},[i("span",[t._v(t._s(e.name))])]),t.currentIndex===n?i("div",{staticClass:"check"},[t._m(0,!0)]):t._e()])])})),0)])])},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("i",{staticClass:"el-icon-check"})])}],_={components:{iconSvg:m["a"]},name:"Sortord",inject:["sendTypeProvide"],data:function(){return{options:[{name:"智能排序",icon:"cangpeitubiao_paixuzhandianpaixu",keyword:"autoSort"},{name:"距离最近",icon:"dingwei",keyword:"shortDistance"},{name:"销量最高",icon:"remen",keyword:"topSelling"},{name:"起送价最低",icon:"jinbi",keyword:"lowestStartPrice"},{name:"配送速度最快",icon:"shizhong",keyword:"fastDelivery"},{name:"评分最高",icon:"xingxing",keyword:"highestScore"}],currentIndex:-1}},methods:{chageCurrentIndex:function(t){this.currentIndex=t,this.$emit("chageFilterIndex",1)},sendType:function(t){this.sendTypeProvide(t,"Sortord")}}},b=_,x=(i("d339"),Object(p["a"])(b,g,C,!1,null,"15a7288f",null)),w=x.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"Filtrate"}},[i("div",{staticClass:"FiltrateContent"},[i("div",{staticClass:"delivery"},[i("div",{staticClass:"name"},[t._v(t._s(t.delivery.name))]),i("div",{staticClass:"deliverySelects"},[i("ul",t._l(t.delivery.items,(function(e,n){return i("li",{key:n},[i("select-button",{attrs:{selectedOptions:t.selectedOptions,item:e},on:{cancelOption:t.cancelOption,selectOption:t.selectOption}})],1)})),0)])]),i("div",{staticClass:"MerchantsProperty"},[i("div",{staticClass:"name"},[t._v(t._s(t.merchantProperty.name))]),i("div",{staticClass:"propertySelects"},[i("ul",t._l(t.merchantProperty.items,(function(e,n){return i("li",{key:n},[i("select-button",{attrs:{selectedOptions:t.selectedOptions,item:e},on:{cancelOption:t.cancelOption,selectOption:t.selectOption}})],1)})),0)])])]),i("div",{staticClass:"FiltrateButton"},[i("div",{staticClass:"clear"},[i("button",{on:{click:t.clearSelected}},[t._v("清空")])]),i("div",{staticClass:"sure"},[i("button",{on:{click:t.sureSelected}},[t._v(" 确定"),t.selectedOptions.length?i("span",[t._v("("+t._s(t.selectedOptions.length)+")")]):t._e()])])])])},I=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"SelectButton"},on:{click:t.selected}},[i("div",{staticClass:"SelectButtonContent"},[i("div",{staticClass:"icon"},[t.item.icon&&!t.selecte?i("icon-svg",{attrs:{iconStyle:"iconStyle",iconClass:t.item.icon}}):t._e(),t.item.char&&!t.selecte?i("span",{style:{borderColor:t.item.color,color:t.item.color}},[t._v(t._s(t.item.char))]):t._e(),t.selecte?i("span",{staticClass:"check"},[i("i",{staticClass:"el-icon-check"})]):t._e()],1),i("div",{staticClass:"name"},[t._v(t._s(t.item.name))])])])},k=[],F=(i("e9c4"),{components:{iconSvg:m["a"]},name:"SelectButton",props:{item:{type:Object},selectedOptions:{type:Array}},data:function(){return{selecte:!1}},methods:{selected:function(){this.selecte=!this.selecte,!0===this.selecte?this.$emit("selectOption",this.item):this.$emit("cancelOption",this.item)}},computed:{copySelectedOptions:function(){return JSON.parse(JSON.stringify(this.selectedOptions))}},watch:{copySelectedOptions:function(t,e){var i=t.length,n=e.length;n>i&&(1===n||0===i)&&(this.selecte=!1)}}}),T=F,$=(i("3fa5"),Object(p["a"])(T,O,k,!1,null,"2ea22932",null)),N=$.exports,L={name:"Filtrate",components:{SelectButton:N},inject:["sendTypeProvide"],data:function(){return{delivery:{name:"配送方式",items:[{name:"蜂鸟专送",icon:"fengniaopaotui",keyword:"is_hummingbird"}]},merchantProperty:{name:"商家属性(可以多选)",items:[{name:"品牌商家",char:"品",color:"rgb(63, 189, 230)",keyword:"is_brand"},{name:"准时达",char:"准",color:"rgb(87, 169, 255)",keyword:"is_ticket"},{name:"在线支付",char:"付",color:"rgb(255, 78, 0)",keyword:"time_pay"}]},selectedOptions:[]}},methods:{selectOption:function(t){for(var e=!1,i=0;i<this.selectedOptions.length;i++)if(this.selectedOptions[i].name===t.name){e=!0;break}e||this.selectedOptions.push(t)},cancelOption:function(t){this.selectedOptions=this.selectedOptions.filter((function(e){return e.name!==t.name}))},clearSelected:function(){this.selectedOptions=[]},sureSelected:function(){this.sendTypeProvide(this.selectedOptions,"Filtrate"),this.$emit("chageFilterIndex",2)}}},j=L,P=(i("acdb"),Object(p["a"])(j,S,I,!1,null,"1d9a6646",null)),A=P.exports,E={components:{Classify:y,Sortord:w,Filtrate:A},name:"FilterTypes",props:{funcName:{type:String}},data:function(){return{filterList:[{name:"默认",list:[{tag:"快餐便当",icon:"hanbao",items:[{name:"简餐",amount:100,type:"fastfood"},{name:"汉堡",amount:200,type:"hamburger"}]},{tag:"小吃夜宵",icon:"xiaochi",items:[{name:"烧烤",amount:150,type:"barbecue"},{name:"地方小吃",amount:120,type:"snack"}]}]},{name:"排序"},{name:"筛选"}],filterIndex:-1,filterFirst:""}},methods:{chageFilterIndex:function(t){var e=this.filterList[0];0===t?"分类"===this.filterList[0].name?(e.name=this.filterFirst,this.$set(this.filterList,0,e)):(e.name="分类",this.$set(this.filterList,0,e)):"分类"===this.filterList[0].name&&(e.name=this.filterFirst,this.$set(this.filterList,0,e)),this.filterIndex!==t?this.filterIndex=t:this.filterIndex=-1},initDatas:function(){this.filterList[0].name=this.funcName,this.filterFirst=this.funcName},getFilterList:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=["hanbao","xiaochi","shuiguoshengxian","a-epslochushimaochushipengren","a-storeshopshangdianchaoshixiaomaibu","a-cakeshengridangaodangaomeishi","yinpin","shangjialiebiao"],e.next=3,new Promise((function(e,i){t.$axios.post("/merchant/getClassify").then((function(t){e(t.data)})).catch((function(t){console.log(t),i(null)}))}));case 3:if(n=e.sent,null!==n){for(s=0;s<n.length;s++)n[s].icon=i[s];t.$set(t.filterList[0],"list",n)}case 5:case"end":return e.stop()}}),e)})))()}},watch:{funcName:function(t){this.$set(this.filterList[0],"name",t),this.filterFirst=t}},created:function(){this.initDatas(),this.getFilterList()}},M=E,D=(i("799b"),Object(p["a"])(M,o,l,!1,null,"3a086cb2",null)),B=D.exports,J={components:{Header:c["a"],FilterTypes:B,NearbyShops:r["a"]},name:"GoodsCategory",props:{funcName:{type:String,default:function(){return"默认名称"}}},data:function(){return{merchantList:[],funcNameCopy:"",merchantListCopy:[],merchantType:""}},provide:function(){return{sendTypeProvide:this.sendType,searchAllProvide:this.initMerchants}},methods:{sendType:function(t,e,i){"Classify"===e?(this.sendAjax("merchant/getMerchantByClassify",t),this.merchantType=t,this.funcNameCopy=i):"Sortord"===e?this.sendAjax("merchant/searchMerchantBySort",t):"Filtrate"===e&&this.doFilter(t)},initMerchants:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){t.$axios.post("merchant/getStore").then((function(t){200===t.data.status?e(t.data.data):i(null)})).catch((function(t){console.log(t),i(null)}))}));case 2:i=e.sent,null!==i&&(t.merchantList=i,t.merchantListCopy=i),t.merchantType="";case 5:case"end":return e.stop()}}),e)})))()},sendAjax:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$axios.post(t,{type:i,classify:this.merchantType}).then((function(t){200===t.data.status?(e.merchantList=t.data.data,e.merchantListCopy=e.merchantList):e.$message({type:"error",message:"没有相关数据"})})).catch((function(t){console.log(t),e.$message({type:"erorr",message:"网络出错"})}))},doFilter:function(t){var e={};t.forEach((function(t){e[t.keyword]=1})),this.merchantList=this.merchantListCopy.filter((function(t){var i=!0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t[n]!==e[n])return!1;return i}))}},created:function(){this.initMerchants(),this.funcNameCopy=this.funcName}},R=J,H=(i("d65f"),Object(p["a"])(R,n,s,!1,null,"34e73726",null));e["default"]=H.exports},"189c":function(t,e,i){"use strict";i("f5a5")},"25eb":function(t,e,i){var n=i("23e7"),s=i("c20d");n({target:"Number",stat:!0,forced:Number.parseInt!=s},{parseInt:s})},"3fa5":function(t,e,i){"use strict";i("e829")},"41db":function(t,e,i){},"4b5e":function(t,e,i){},5630:function(t,e,i){},7261:function(t,e,i){"use strict";i("e3e6")},"799b":function(t,e,i){"use strict";i("41db")},"99af":function(t,e,i){"use strict";var n=i("23e7"),s=i("da84"),a=i("d039"),c=i("e8b5"),r=i("861d"),o=i("7b0b"),l=i("07fa"),d=i("8418"),u=i("65f0"),m=i("1dde"),h=i("b622"),f=i("2d00"),p=h("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=s.TypeError,C=f>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=m("concat"),b=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},x=!C||!_;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,i,n,s,a,c=o(this),r=u(c,0),m=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?c:arguments[e],b(a)){if(s=l(a),m+s>v)throw g(y);for(i=0;i<s;i++,m++)i in a&&d(r,m,a[i])}else{if(m>=v)throw g(y);d(r,m++,a)}return r.length=m,r}})},acdb:function(t,e,i){"use strict";i("5630")},adf5:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{click:t.toShop}},[i("div",{staticClass:"content"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t.item.img,alt:""}})]),i("div",{staticClass:"msg"},[i("div",{staticClass:"first"},[i("div",{staticClass:"rowOne"},[t.item.is_brand?i("div",{staticClass:"pingPai"},[t._v("品牌")]):t._e(),i("div",{staticClass:"title"},[t._v(t._s(t.item.name))])]),i("div",{staticClass:"rowTwo"},[i("div",{staticClass:"star"},[i("i",{staticClass:"iconfont icon-star"}),i("span",[t._v(t._s(t.item.star))])]),i("div",{staticClass:"sales"},[t._v("月售"+t._s(t.item.sales)+"单")])]),i("div",{staticClass:"rowThree"},[i("div",{staticClass:"conditions"},[t._v("￥"+t._s(t.item.de_conditions)+"起送")]),i("div",{staticClass:"fenge"},[t._v("/")]),i("div",{staticClass:"shippingFee"},[t._v("配送费约"+t._s(t.item.shipping_fee)+"￥")])])]),i("div",{staticClass:"second"},[i("div",{staticClass:"rowOne"},[t.item.is_ticket?i("div",{staticClass:"isTicket"},[t._v("保准票")]):t._e()]),i("div",{staticClass:"rowTwo"},[t.item.is_hummingbird?i("div",{staticClass:"isHummingbird"},[t._v("蜂鸟专送")]):t._e(),t.item.is_ticket?i("div",{staticClass:"isTime"},[t._v("准时达")]):t._e()]),i("div",{staticClass:"rowThree"},[i("div",{staticClass:"instance"},[t._v(t._s(t.item.instance)+"公里")]),i("div",{staticClass:"xiegang"},[t._v("/")]),i("div",{staticClass:"shipping_time"},[t._v(t._s(t.shipingTime))])])])])])])},s=[],a=(i("e9c4"),i("25eb"),i("a9e3"),i("99af"),{name:"NearbyShops",props:{item:{type:Object,default:function(){return{id:1,name:"商家2",instance:111,star:4.5,de_conditions:20,is_brand:1,shipping_fee:3,shipping_time:50,sales:120,is_ticket:1,is_hummingbird:1,img:"http://localhost:5115/public/images/defalu_store.jpg"}}}},methods:{toShop:function(){var t=JSON.stringify(this.item);this.$router.push({name:"Merchant",query:{id:this.item.id,item:t}})}},computed:{shipingTime:function(){var t=this.item.shipping_time,e=Number.parseInt(t/60),i=t%60,n="".concat(e,"小时").concat(i,"分钟");return n}}}),c=a,r=(i("189c"),i("2877")),o=Object(r["a"])(c,n,s,!1,null,"48fa532e",null);e["a"]=o.exports},c20d:function(t,e,i){var n=i("da84"),s=i("d039"),a=i("e330"),c=i("577e"),r=i("58a8").trim,o=i("5899"),l=n.parseInt,d=n.Symbol,u=d&&d.iterator,m=/^[+-]?0x/i,h=a(m.exec),f=8!==l(o+"08")||22!==l(o+"0x16")||u&&!s((function(){l(Object(u))}));t.exports=f?function(t,e){var i=r(c(t));return l(i,e>>>0||(h(m,i)?16:10))}:l},d339:function(t,e,i){"use strict";i("05eb")},d65f:function(t,e,i){"use strict";i("4b5e")},e3e6:function(t,e,i){},e829:function(t,e,i){},e9c4:function(t,e,i){var n=i("23e7"),s=i("da84"),a=i("d066"),c=i("2ba4"),r=i("e330"),o=i("d039"),l=s.Array,d=a("JSON","stringify"),u=r(/./.exec),m=r("".charAt),h=r("".charCodeAt),f=r("".replace),p=r(1..toString),v=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,C=function(t,e,i){var n=m(i,e-1),s=m(i,e+1);return u(y,t)&&!u(g,s)||u(g,t)&&!u(y,n)?"\\u"+p(h(t,0),16):t},_=o((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&n({target:"JSON",stat:!0,forced:_},{stringify:function(t,e,i){for(var n=0,s=arguments.length,a=l(s);n<s;n++)a[n]=arguments[n];var r=c(d,null,a);return"string"==typeof r?f(r,v,C):r}})},f5a5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-f2c78710.871c819f.js.map