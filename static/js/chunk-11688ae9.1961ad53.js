(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11688ae9"],{"0b42":function(t,e,i){var a=i("da84"),s=i("e8b5"),n=i("68ee"),c=i("861d"),r=i("b622"),o=r("species"),l=a.Array;t.exports=function(t){var e;return s(t)&&(e=t.constructor,n(e)&&(e===l||s(e.prototype))?e=void 0:c(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?l:e}},"0b46":function(t,e,i){},"159b":function(t,e,i){var a=i("da84"),s=i("fdbc"),n=i("785a"),c=i("17c2"),r=i("9112"),o=function(t){if(t&&t.forEach!==c)try{r(t,"forEach",c)}catch(e){t.forEach=c}};for(var l in s)s[l]&&o(a[l]&&a[l].prototype);o(n)},"17c2":function(t,e,i){"use strict";var a=i("b727").forEach,s=i("a640"),n=s("forEach");t.exports=n?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,i){var a=i("d039"),s=i("b622"),n=i("2d00"),c=s("species");t.exports=function(t){return n>=51||!a((function(){var e=[],i=e.constructor={};return i[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2826:function(t,e,i){},"2a7c":function(t,e,i){"use strict";i("0b46")},"2d89":function(t,e,i){"use strict";i("4dec")},"36b1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{attrs:{id:"merchant"}},[i("el-header",[i("merchant-header"),i("merchant-nav",{on:{chageShow:t.chageShow}})],1),i("el-main",[i("keep-alive",[i("transition",{attrs:{name:"fade"}},[i(t.componentTag,{tag:"component",attrs:{storeId:t.id}})],1)],1)],1)],1)},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MerchantHeader"},[i("div",{staticClass:"backNav",on:{click:t.toBack}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("div",{staticClass:"backgroundImage"},[i("img",{attrs:{src:t.item.header_img,alt:""}})]),i("div",{staticClass:"MerchantHeaderContent"},[i("div",{staticClass:"MerchantImg"},[i("img",{attrs:{src:t.item.img,alt:""}})]),i("div",{staticClass:"MerchantMsg"},[i("div",{staticClass:"detailMsg"},[i("div",{staticClass:"rowOne"},[t._v(" "+t._s(t.item.name)+" ")]),i("div",{staticClass:"rowTwo"},[t._v(" 商家配送/分钟送达/配送费￥"+t._s(t.item.shipping_fee)+" ")]),i("div",{staticClass:"rowThree"},[t._v("公告:"+t._s(t.item.msg))])]),t._m(0)])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toMerchantDetails"},[i("i",{staticClass:"el-icon-arrow-right"})])}],r={name:"MerchantHeader",props:{item:{type:Object,default:function(){return{msg:"新店！",img:"http://localhost:5115/public/images/defalu_store.jpg",header_img:"http://localhost:5115/public/images/defalu_store.jpg",name:"商家1",shipping_fee:2}}}},methods:{toBack:function(){this.$router.go(-1)}}},o=r,l=(i("a243"),i("2877")),u=Object(l["a"])(o,n,c,!1,null,"8909281a",null),h=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{attrs:{id:"MerchantNav"}},t._l(t.navData,(function(e,a){return i("div",{key:a},[i("span",{class:{selected:t.isSelected===a},on:{click:function(i){return t.chageContent(e.pathName,a)}}},[t._v(" "+t._s(e.name))])])})),0)},f=[],d={name:"MerchantNav",data:function(){return{navData:[{name:"商品",pathName:"MerchantItemList"},{name:"评价",pathName:""}],isSelected:0}},methods:{chageContent:function(t,e){this.isSelected!==e&&(this.isSelected=e,this.$emit("chageShow",t))}}},m=d,v=(i("5f12"),Object(l["a"])(m,p,f,!1,null,"1d555005",null)),_=v.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"view",attrs:{id:"MerchantItemList"}},[i("div",{ref:"left",staticClass:"left"},[i("ul",t._l(t.itemData,(function(e,a){return i("li",{key:a,ref:"navItems",refInFor:!0,class:{navSelected:a===t.currentIndex},on:{click:function(e){return t.chageMain(a)}}},[0!==t.itemData[a].counts?i("div",{staticClass:"showCounts"},[i("span",[t._v(t._s(t.itemData[a].counts))])]):t._e(),i("span",[t._v(t._s(e.name))])])})),0)]),i("div",{staticClass:"main",on:{touchstart:t.mainTouch,scroll:function(e){return t.mainScroll(e)}}},t._l(t.itemData,(function(e,a){return i("merchant-item",{key:a,ref:"items",refInFor:!0,attrs:{data:e},on:{selectShops:t.selectShops,delShops:t.delShops}})})),1),i("footer",[i("shopping-cart")],1)])},b=[],C=(i("d3b7"),i("159b"),i("b0c0"),i("4de4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("div",{staticClass:"type"},[i("span",[t._v(t._s(t.data.name))])]),i("ul",{staticClass:"items"},t._l(t.data.items,(function(e,a){return i("li",{key:a},[i("div",{staticClass:"liContent"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.img,alt:""}}),1===e.is_new_product?i("div",{staticClass:"newProduct"},[i("div",{staticClass:"triangle"}),i("span",[t._v("新品")])]):t._e()]),i("div",{staticClass:"msg"},[i("div",{staticClass:"name"},[i("span",{staticClass:"spanName"},[t._v(t._s(e.name))]),1===e.is_specialty?i("span",{staticClass:"specialty"},[i("span",[t._v("招牌")])]):t._e()]),i("div",{staticClass:"introduction"},[t._v(t._s(e.introduction))]),i("div",{staticClass:"sales"},[i("span",[t._v("月售"+t._s(e.sales)+"份")]),i("span",[t._v("好评率"+t._s(e.point)+"%")])]),""!==e.label?i("div",{staticClass:"label"},[i("span",[t._v(t._s(e.label))])]):t._e(),i("div",{staticClass:"price"},[i("span",[t._v("￥"),i("span",[t._v(t._s(e.price))])]),i("div",{staticClass:"button"},[i("transition",{attrs:{name:"icrement"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.selecteds[a],expression:"selecteds[index] !== 0"}],staticClass:"left"},[i("button",{on:{click:function(e){return t.increItem(a)}}}),i("span",[t._v(t._s(t.selecteds[a]))])])]),i("div",{staticClass:"right"},[i("button",{on:{click:function(e){return t.addItem(a)}}})])],1)])])])])})),0)])}),D=[],y={name:"MerchantItem",props:{data:{type:Object,default:function(){return{name:"折扣榜",counts:0,items:[{name:"阿尔卑斯",type:"折扣榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg",selects:0}]}}}},methods:{addItem:function(t){this.selecteds[t]++,this.$emit("selectShops",this.data.items[t],t),this.$forceUpdate()},increItem:function(t){0!==this.selecteds[t]&&this.selecteds[t]--,this.$emit("delShops",this.data.items[t]),this.$forceUpdate()},initSelecteds:function(){var t=[];this.data.items.forEach((function(){t.push(0)})),this.selecteds=t}},data:function(){return{selecteds:[]}},created:function(){this.initSelecteds()}},T=y,w=(i("2d89"),Object(l["a"])(T,C,D,!1,null,"1b59227a",null)),S=w.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"ShoppingCart"}},[i("div",{staticClass:"Cart"},[i("div",{staticClass:"CartIcon"},[i("i",{staticClass:"iconfont icon-gouwuchexuanzhong"})]),t._e()]),t._m(0),i("div",{staticClass:"shoppingBtn"},[t._e(),i("div",{staticClass:"noBuy"},[i("span",[t._v("差¥xxx起送")])])])])},x=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fee"},[i("p",{staticClass:"price"},[t._v("¥123")]),i("p",{staticClass:"shoppingFee"},[t._v("配送费¥5")])])}],$={name:"ShoppingCart"},M=$,k=(i("2a7c"),Object(l["a"])(M,I,x,!1,null,"2e4d3269",null)),E=k.exports,j={name:"MerchantItemList",components:{MerchantItem:S,ShoppingCart:E},props:{storeId:{type:String}},data:function(){return{itemData:[{name:"热销榜",counts:0,items:[{id:"1",name:"阿尔卑斯",type:"热销榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg"},{id:"2",name:"阿尔卑斯",type:"热销榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋呢",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg"},{id:"3",name:"阿尔卑斯",type:"热销榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg"},{id:"4",name:"阿尔卑斯",type:"热销榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg"},{id:"5",name:"阿尔卑斯",type:"热销榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg"},{id:"6",name:"阿尔卑斯",type:"热销榜",price:20.5,introduction:"好吃！",sales:100,point:30.5,label:"冰淇淋",is_specialty:1,is_new_product:1,img:"http://localhost:5115/public/images/iceCream.jpg"}]}],selectData:[],navDataTop:[],itemDataTop:[],currentIndex:0,mainScrollTop:0,mainTrigger:0,delTop:0,mainHeight:0}},methods:{chageMain:function(t){this.mainTrigger=1,this.currentIndex=t;var e=document.querySelector("div.main");e.scrollTo({top:this.itemDataTop[t],left:0,behavior:"smooth"})},initItemDataTop:function(){var t=this,e=this.$refs.items,i=this.$refs.items[0].$el.offsetTop;this.delTop=i,e.forEach((function(e){t.itemDataTop.push(e.$el.offsetTop-i)}))},initNavDataTop:function(){var t=this,e=this.$refs.navItems,i=this.$refs.items[0].$el.offsetTop;e.forEach((function(e){t.navDataTop.push(e.offsetTop-i)}))},mainScroll:function(t){var e=this,i=this.mainTrigger;if(0===i){var a=t.target.scrollTop;this.mainScrollTop=a,this.itemDataTop.forEach((function(t,i){t<=a&&(e.currentIndex=i)}))}},mainTouch:function(){this.mainTrigger=0},selectShops:function(t,e){for(var i=!1,a=-1,s=0;s<this.selectData.length;s++)if(this.selectData[s].item.id===t.id){i=!0,a=s;break}if(i){var n=this.selectData[a];n.counts++,this.$set(this.selectData,a,n)}else{var c={item:t,counts:1,index:e};this.selectData.push(c)}for(var r=0;r<this.itemData.length;r++)if(this.itemData[r].name===t.type){var o=this.itemData[r];o.counts++,this.$set(this.itemData,r,o)}},delShops:function(t){for(var e=!1,i=-1,a=0;a<this.selectData.length;a++)if(this.selectData[a].item.id===t.id){e=!0,i=a;break}if(e){var s=this.selectData[i].counts;if(1===s)this.selectData=this.selectData.filter((function(e){return e.item.id!==t.id}));else{var n=this.selectData[i];n.counts--,this.$set(this.selectData,i,n)}for(var c=0;c<this.itemData.length;c++)if(this.itemData[c].name===t.type){var r=this.itemData[c];r.counts--,this.$set(this.itemData,c,r)}}}},mounted:function(){this.initNavDataTop(),this.initItemDataTop()},watch:{currentIndex:function(t){var e=this.$refs.left,i=e.scrollTop,a=e.clientHeight,s=i-this.navDataTop[t];s>=0&&e.scrollTo({left:0,top:this.navDataTop[t],behavior:"smooth"}),this.navDataTop[t]>=a&&e.scrollTo({left:0,top:this.navDataTop[t],behavior:"smooth"})}}},N=j,O=(i("f623"),Object(l["a"])(N,g,b,!1,null,"56c8c696",null)),H=O.exports,A={components:{MerchantHeader:h,MerchantNav:_,MerchantItemList:H},name:"Merchant",props:{id:{type:String}},data:function(){return{componentTag:H}},methods:{chageShow:function(t){""!==t&&(this.componentTag=t)}}},B=A,L=(i("fe83"),Object(l["a"])(B,a,s,!1,null,"241f7281",null));e["default"]=L.exports},"4de4":function(t,e,i){"use strict";var a=i("23e7"),s=i("b727").filter,n=i("1dde"),c=n("filter");a({target:"Array",proto:!0,forced:!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"4dec":function(t,e,i){},"5f12":function(t,e,i){"use strict";i("cf29")},"640b":function(t,e,i){},"65f0":function(t,e,i){var a=i("0b42");t.exports=function(t,e){return new(a(t))(0===e?0:e)}},a243:function(t,e,i){"use strict";i("640b")},a640:function(t,e,i){"use strict";var a=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&a((function(){i.call(null,e||function(){return 1},1)}))}},b727:function(t,e,i){var a=i("0366"),s=i("e330"),n=i("44ad"),c=i("7b0b"),r=i("07fa"),o=i("65f0"),l=s([].push),u=function(t){var e=1==t,i=2==t,s=3==t,u=4==t,h=6==t,p=7==t,f=5==t||h;return function(d,m,v,_){for(var g,b,C=c(d),D=n(C),y=a(m,v),T=r(D),w=0,S=_||o,I=e?S(d,T):i||p?S(d,0):void 0;T>w;w++)if((f||w in D)&&(g=D[w],b=y(g,w,C),t))if(e)I[w]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:l(I,g)}else switch(t){case 4:return!1;case 7:l(I,g)}return h?-1:s||u?u:I}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},cc6f:function(t,e,i){},cf29:function(t,e,i){},e8b5:function(t,e,i){var a=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f623:function(t,e,i){"use strict";i("2826")},fe83:function(t,e,i){"use strict";i("cc6f")}}]);
//# sourceMappingURL=chunk-11688ae9.1961ad53.js.map