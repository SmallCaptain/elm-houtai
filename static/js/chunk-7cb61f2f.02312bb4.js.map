{"version":3,"sources":["webpack:///./src/pages/loginPage/loginPage.vue?13cc","webpack:///./src/pages/loginPage/loginPage.vue?9374","webpack:///src/pages/loginPage/loginPage.vue","webpack:///./src/pages/loginPage/loginPage.vue?a212","webpack:///./src/pages/loginPage/loginPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fuc","fucName","staticClass","directives","name","rawName","value","expression","domProps","on","$event","target","composing","username","password","passwordSwitch","style","color","changeView","vericode","getCode","model","callback","$$v","validCode","login","_v","staticRenderFns","components","Header","verificationCode","data","methods","toLowerCase","user","$axios","post","then","message","type","sessionStorage","Token","isLogin","path","catch","console","$message","mounted","component"],"mappings":"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","file":"js/chunk-7cb61f2f.02312bb4.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=style&index=0&id=c0db1a00&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loginPage\"}},[_c('header',[_c('Header',{attrs:{\"fucName\":_vm.fuc.fucName}})],1),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"username\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"id\":\"usernameInput\",\"type\":\"text\",\"placeholder\":\"账号\",\"autocomplete\":\"“off”\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"},{name:\"show\",rawName:\"v-show\",value:(_vm.passwordSwitch),expression:\"passwordSwitch\"}],attrs:{\"type\":\"password\",\"id\":\"passwordInput\",\"placeholder\":\"密码\",\"autocomplete\":\"“off”\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"},{name:\"show\",rawName:\"v-show\",value:(!_vm.passwordSwitch),expression:\"!passwordSwitch\"}],attrs:{\"type\":\"text\",\"placeholder\":\"密码\",\"autocomplete\":\"“off”\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('i',{staticClass:\"el-icon-view\",style:({ color: _vm.passwordSwitch ? 'red' : 'green' }),on:{\"click\":_vm.changeView}})]),_c('div',{staticClass:\"veriCode\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vericode),expression:\"vericode\"}],attrs:{\"id\":\"veriCodeInput\",\"placeholder\":\"验证码\",\"type\":\"text\",\"autocomplete\":\"“off”\"},domProps:{\"value\":(_vm.vericode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.vericode=$event.target.value}}}),_c('verification-code',{attrs:{\"width\":\"100%\",\"height\":\"100%\"},on:{\"sendData\":_vm.getCode},model:{value:(_vm.validCode),callback:function ($$v) {_vm.validCode=$$v},expression:\"validCode\"}})],1)]),_c('div',{staticClass:\"metion\"},[_c('el-alert',{attrs:{\"title\":\"提 示:\",\"type\":\"info\",\"description\":\"如 果 账 号 未 注 册 会 自 动 注 册\",\"closable\":false,\"show-icon\":\"\"}})],1),_c('div',{staticClass:\"loginBtn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"plain\":\"\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_c('router-link',{staticClass:\"reset\",attrs:{\"to\":{\n          name: 'resetPssword',\n        }}},[_vm._v(\"重置密码\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"loginPage\">\r\n    <header>\r\n      <Header :fucName=\"fuc.fucName\" />\r\n    </header>\r\n    <div class=\"main\">\r\n      <!-- 第一个部分 输入交互部分 -->\r\n      <div class=\"login\">\r\n        <div class=\"username\">\r\n          <input\r\n            id=\"usernameInput\"\r\n            type=\"text\"\r\n            placeholder=\"账号\"\r\n            v-model=\"username\"\r\n            autocomplete=\"“off”\"\r\n          />\r\n        </div>\r\n        <div class=\"password\">\r\n          <input\r\n            type=\"password\"\r\n            id=\"passwordInput\"\r\n            placeholder=\"密码\"\r\n            v-model=\"password\"\r\n            v-show=\"passwordSwitch\"\r\n            autocomplete=\"“off”\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"密码\"\r\n            v-model=\"password\"\r\n            v-show=\"!passwordSwitch\"\r\n            autocomplete=\"“off”\"\r\n          />\r\n          <i\r\n            class=\"el-icon-view\"\r\n            :style=\"{ color: passwordSwitch ? 'red' : 'green' }\"\r\n            @click=\"changeView\"\r\n          ></i>\r\n        </div>\r\n        <div class=\"veriCode\">\r\n          <input\r\n            id=\"veriCodeInput\"\r\n            placeholder=\"验证码\"\r\n            type=\"text\"\r\n            v-model=\"vericode\"\r\n            autocomplete=\"“off”\"\r\n          />\r\n          <verification-code\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            v-model=\"validCode\"\r\n            @sendData=\"getCode\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <!-- 第二个部分 提醒部分 -->\r\n      <div class=\"metion\">\r\n        <el-alert\r\n          title=\"提 示:\"\r\n          type=\"info\"\r\n          description=\"如 果 账 号 未 注 册 会 自 动 注 册\"\r\n          :closable=\"false\"\r\n          show-icon\r\n        >\r\n        </el-alert>\r\n      </div>\r\n      <!-- 第三个部分 登录按钮+重置密码 -->\r\n      <div class=\"loginBtn\">\r\n        <el-button @click=\"login\" type=\"primary\" size=\"medium\" plain\r\n          >登录</el-button\r\n        >\r\n        <router-link\r\n          class=\"reset\"\r\n          :to=\"{\r\n            name: 'resetPssword',\r\n          }\"\r\n          >重置密码</router-link\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"../../components/Header.vue\";\r\nimport verificationCode from \"./verificationCode.vue\";\r\nexport default {\r\n  name: \"loginPage\",\r\n  components: {\r\n    Header,\r\n    verificationCode,\r\n  },\r\n  data() {\r\n    return {\r\n      fuc: {\r\n        fucName: \"密码登录\",\r\n      },\r\n      username: \"\",\r\n      password: \"\",\r\n      vericode: \"\",\r\n      passwordSwitch: false,\r\n      validCode: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    changeView() {\r\n      this.passwordSwitch = !this.passwordSwitch;\r\n    },\r\n    getCode(data) {\r\n      this.validCode = data;\r\n    },\r\n    login() {\r\n      // 第一层判断 验证码是否正确\r\n      if (this.validCode.toLowerCase()=== this.vericode.toLowerCase()) {\r\n        let user = {\r\n          username: this.username.replace(/\\s+/g,''),\r\n          password: this.password.replace(/\\s+/g,''),\r\n        };\r\n        if (user.username !== \"\" && user.password !== \"\") {\r\n          // 发送ajax请求啦\r\n\r\n          this.$axios\r\n            .post(\"/login/loginUser\", user)\r\n            .then((result) => {\r\n              // console.log(\"success\");\r\n              if (result.data.status === true) {\r\n                this.$message({\r\n                  message: result.data.msg,\r\n                  type: \"success\",\r\n                });\r\n                sessionStorage.setItem(\"Token\", result.data.token);\r\n                // 整合user 数据给vuex\r\n                let userData={\r\n                  username:user.username,\r\n                  Token:result.data.token,\r\n                  isLogin:true\r\n                }\r\n                this.$store.dispatch('user/setUser',userData)\r\n                this.$router.replace({\r\n                  path:'home/personal'\r\n                });\r\n              } else {\r\n                this.$message({\r\n                  message: result.data.msg,\r\n                  type: \"error\",\r\n                });\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              // console.log(\"err!\");\r\n              console.log(err);\r\n              this.$message({\r\n                message: \"未知错误\",\r\n                type: \"error\",\r\n              });\r\n            });\r\n        } else {\r\n          this.$message({\r\n            message: \"密码和账号不可为空\",\r\n            type: \"error\",\r\n          });\r\n        }\r\n      } else {\r\n        console.log(\"验证码错误\");\r\n        this.$message({\r\n          message: \"验证码错误,请检查\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted(){\r\n    console.log(this.$store);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\ndiv#loginPage {\r\n  & > header {\r\n  }\r\n  & > div.main {\r\n    & > div.login {\r\n      margin-top: 30px;\r\n      height: 300px;\r\n      background-color: white;\r\n      display: flex;\r\n      flex-direction: column;\r\n      input {\r\n        display: inline-block;\r\n        font-size: 35px;\r\n        outline: none;\r\n        border: none;\r\n        padding: 28px 38px;\r\n      }\r\n      div {\r\n        border: 1px solid #f1f1f1;\r\n      }\r\n      label {\r\n        font-size: 40px;\r\n      }\r\n      & > div.username {\r\n        flex: 1;\r\n      }\r\n      & > div.password {\r\n        position: relative;\r\n        flex: 1;\r\n\r\n        & > i {\r\n          position: absolute;\r\n          right: 20px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          font-size: 65px;\r\n        }\r\n      }\r\n      & > div.veriCode {\r\n        flex: 1;\r\n        display: flex;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n    & > div.metion {\r\n    }\r\n    & > div.loginBtn {\r\n      & > .el-button {\r\n        width: 100%;\r\n        height: 80px;\r\n        font-size: 50px;\r\n      }\r\n      & > .reset {\r\n        display: block;\r\n        width: 200px;\r\n        margin-top: 30px;\r\n        margin-left: auto;\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loginPage.vue?vue&type=template&id=c0db1a00&scoped=true&\"\nimport script from \"./loginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./loginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginPage.vue?vue&type=style&index=0&id=c0db1a00&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0db1a00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}