(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cb61f2f"],{"0672":function(e,s,a){"use strict";a("4b51")},"4b51":function(e,s,a){},d86e:function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{attrs:{id:"loginPage"}},[a("header",[a("Header",{attrs:{fucName:e.fuc.fucName}})],1),a("div",{staticClass:"main"},[a("div",{staticClass:"login"},[a("div",{staticClass:"username"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"usernameInput",type:"text",placeholder:"账号",autocomplete:"“off”"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}})]),a("div",{staticClass:"password"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"show",rawName:"v-show",value:e.passwordSwitch,expression:"passwordSwitch"}],attrs:{type:"password",id:"passwordInput",placeholder:"密码",autocomplete:"“off”"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"show",rawName:"v-show",value:!e.passwordSwitch,expression:"!passwordSwitch"}],attrs:{type:"text",placeholder:"密码",autocomplete:"“off”"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),a("i",{staticClass:"el-icon-view",style:{color:e.passwordSwitch?"red":"green"},on:{click:e.changeView}})]),a("div",{staticClass:"veriCode"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.vericode,expression:"vericode"}],attrs:{id:"veriCodeInput",placeholder:"验证码",type:"text",autocomplete:"“off”"},domProps:{value:e.vericode},on:{input:function(s){s.target.composing||(e.vericode=s.target.value)}}}),a("verification-code",{attrs:{width:"100%",height:"100%"},on:{sendData:e.getCode},model:{value:e.validCode,callback:function(s){e.validCode=s},expression:"validCode"}})],1)]),a("div",{staticClass:"metion"},[a("el-alert",{attrs:{title:"提 示:",type:"info",description:"如 果 账 号 未 注 册 会 自 动 注 册",closable:!1,"show-icon":""}})],1),a("div",{staticClass:"loginBtn"},[a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:e.login}},[e._v("登录")]),a("router-link",{staticClass:"reset",attrs:{to:{name:"resetPssword"}}},[e._v("重置密码")])],1)])])},o=[],i=(a("ac1f"),a("5319"),a("0418")),r=a("7914"),n={name:"loginPage",components:{Header:i["a"],verificationCode:r["a"]},data:function(){return{fuc:{fucName:"密码登录"},username:"",password:"",vericode:"",passwordSwitch:!1,validCode:""}},methods:{changeView:function(){this.passwordSwitch=!this.passwordSwitch},getCode:function(e){this.validCode=e},login:function(){var e=this;if(this.validCode.toLowerCase()===this.vericode.toLowerCase()){var s={username:this.username.replace(/\s+/g,""),password:this.password.replace(/\s+/g,"")};""!==s.username&&""!==s.password?this.$axios.post("/login/loginUser",s).then((function(a){if(!0===a.data.status){e.$message({message:a.data.msg,type:"success"}),sessionStorage.setItem("Token",a.data.token);var t={username:s.username,Token:a.data.token,isLogin:!0};e.$store.dispatch("user/setUser",t),e.$router.replace({path:"home/personal"})}else e.$message({message:a.data.msg,type:"error"})})).catch((function(s){console.log(s),e.$message({message:"未知错误",type:"error"})})):this.$message({message:"密码和账号不可为空",type:"error"})}else console.log("验证码错误"),this.$message({message:"验证码错误,请检查",type:"error"})}},mounted:function(){console.log(this.$store)}},d=n,c=(a("0672"),a("2877")),l=Object(c["a"])(d,t,o,!1,null,"c0db1a00",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7cb61f2f.02312bb4.js.map